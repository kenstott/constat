{system_prompt}
{injected_sections}
{skill_functions}
## Available Databases
{schema_overview}
{api_overview}
## Domain Context
{domain_context}
{user_facts}
{learnings}
## Intermediate Tables (from previous steps)
{datastore_tables}

{published_artifacts}
## Previous Context
{scratchpad}

## Current Step
Step {step_number} of {total_steps}: {goal}

Expected inputs: {inputs}
Expected outputs: {outputs}

Generate the Python code to accomplish this step.