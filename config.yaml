# Test configuration with two sample databases

llm:
  provider: anthropic
  model: claude-sonnet-4-20250514
  api_key: ${ANTHROPIC_API_KEY}

databases:
  - name: chinook
    uri: sqlite:///./data/chinook.db

  - name: northwind
    uri: sqlite:///./data/northwind.db

system_prompt: |
  You are analyzing data across two different business databases.

  ## Database 1: Chinook (Digital Music Store)
  - Artists create Albums, which contain Tracks
  - Tracks have a Genre (Rock, Jazz, Metal, etc.) and MediaType
  - Customers purchase tracks via Invoices and InvoiceLines
  - Employees are sales representatives (SupportRepId)
  - Revenue = SUM(InvoiceLine.UnitPrice * InvoiceLine.Quantity)

  ## Database 2: Northwind (Product Distribution Company)
  - Suppliers provide Products in Categories
  - Customers place Orders with Order Details (line items)
  - Employees manage customer relationships and orders
  - Shippers deliver orders
  - Revenue = SUM(OrderDetails.UnitPrice * OrderDetails.Quantity)

  ## Cross-Database Analysis
  When a question spans both databases, query each separately and join
  the results in pandas (in-memory). Both databases have:
  - Customers, Employees, Orders/Invoices
  - But different business domains (music vs. product distribution)

execution:
  timeout_seconds: 60
  max_retries: 10
  allowed_imports:
    - pandas
    - numpy
    - scipy
    - sklearn
